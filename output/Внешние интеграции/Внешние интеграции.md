
<a name="common-info"></a>

Внешняя интеграция - вид интеграции, которая может быть создана в момент авторизации пользователя. Для создания подобной интеграции вам необходимо разместить кнопку на сайт с передачей метаданных (название, описание и тд). Подробней о параметрах можно прочитать на станице о
функционале [Кнопки на сайт](https://amocrm.ru/developers/content/oauth/button). Данный вид интеграции подойдет разработчикам, которые разрабатывают
продукт с ограниченным количеством пользователей и которые работают только с API amoCRM. Разработчику достаточно разместить кнопку на сайт,
а также подготовить 2 адреса, на которые придут запросы:

          Адрес для получения вебхука с Client ID и Client Secret   
          Адрес для обработки перехода пользователя с кодом авторизации и дальнейшей авторизацией (Redirect URI)

Отличительными особенностями данной интеграции являются несколько вещей:

1.  При каждой авторизации пользователя будет создана отдельная интеграция
2.  Client ID и Client Secret будут высланы интегратору в виде вебхука
3.  Некоторые системные методы могут быть ограничены (например создание пользователей)
4.  Данная интеграция предназначения для работы с API amoCRM и не может быть создана с загруженным архивом
1.  Мы оставляем за собой право отслеживать активность таких интеграций. В случае роста количества одинаковых интеграций мы можем связываться с интеграторами с требованием отказаться от подобного типа интеграции в пользу публичной.

Ниже рассмотрим тело вебхука, которое будет приходить при предоставлении
доступа:

| Параметр       | Тип данных   | Описание |
|----------------|--------------|----------|
| client\_id     | string       | ID интеграции (необходим для обмена кода авторизации на access token) |
| client\_secret | string       | Секретный ключ интеграции (необходим для обмена кода авторизации на access token) |
| state          | string\|null | Параметр, который может быть передан в кнопку на сайт для дополнительной идентификации пользователя|

```json
      
    {
        "client_id": "xxxx-xxxx-xxxx",
        "client_secret": "xxxxxxxxxx",
        "state": "123qwe"
    }
    
```

<!-- Generated at Tue, 02 Mar 2021 12:06:08 +0000. amoCRM Documentation Generator -->